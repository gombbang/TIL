**면접 중** 코딩테스트 외에 개발 업무 테스트 시점에 **주의깊게 보는게 테스트**


production code
: 테스트 대상 코드, 말 그대로 제품의 코드를 의미.

테스트의 목적
- 매우 귀찮음, 그럼에도 해야 하는 이유는 타 개발자와 기능의 일부를 공유하는 코드 개발이 있기 때문임.
	- 기존 코드가 정상 동작 중 내가 해당 코드를 수정한다면 
		- 지금까지 있던 내용은 정상적으로 처리되어야 한다.
		- 새로 만들어진 부분에 대해서만 잘 검증되면 좋다.
			- 이걸 위해서 테스트가 필요하다.
			  지금까지 있던 내용이 잘 되는지 자동으로 확인하기 위함

커버할 수 없는 영역 방지
경험과 감에 의존 방지
유지보수 편의
소프트웨어 신뢰성 증대

당장 해야할 일은 변화가 생기는 순간마다 발생하는 모든 case를 고려하는 것

**개발 시 필요한 작업**
- **시나리오**
- **발생 가능한 케이스**
- **그에 대한 대응 (성공 / 실패 / 예외)**

---
내가 배워야 할 Test
- JPA 기반 테스트
  > JPA Repository 요청까지의 과정이 정상적으로 수행되는가?
- validation 테스트
  > 예외 상황에 대한 대처가 잘 이뤄질 것인가?
  
---
인텔리제이 코드는 해당 탭북으로 활용이 어려우므로 눈으로 따라간다.

테스트 코드 작성할 때 단축키 : ctrl + shift + T

수동보다는 자동을 해야한다. (테스트코드를 만들어야한다.)
- 확인 주체가 사람이다
- 타인이 봤을 때, 어떻게 해야 성공인지 실패인지 분간가능 해야한다.

---
#JUnit5로테스트하기 

### **단위 테스트의 정의**
- 작은 코드 단위를 **독립적**으로 검증하는 테스트 
	- 클래스 / 메서드

### **spring-boot-starter-test에 포함된 내용**
- Junit이 단위테스트에 적절하다. (Test Framework)
	- Xunit이라고 Kent Beck 씨가 만들었고, SUnit(스몰톡), Junit(자바) ...
	  Nunit CppUnit
- AssertJ, Test Libirary
	- 메서드 체이닝 지원
	  API 풍부
			assertThat~.isEquialTo ...
	


---
#개발시작
들어온 요구사항과 내가 파악한 요구사항 비교
	놓친 내용이나 요구 사항에 숨겨진 내용이 없는지 확인
내가 개발할 프로세스 상 요구사항을 다 충족하는지 체크
개발 중 제한 사항이 없는지 확인하고 UML? 그려보고 한 번 더 체크

---
#테스트케이스세분화
- 해피케이스(성공)와 예외케이스(실패)
  > 경계값 테스트 (범위, 초과 미만, 특정 구간, 날짜 경계)

예외 상황 테스트 (항상 성공하지 않는 테스트는 예외 상황도 짜야한다.)
	assertThatThrownBy(() -> [작업내용])
		.isInstanceOf([ExceptionName.class])          -- 1차 테스트
		.hasMessage([메세지내용]);                         -- 2차 테스트



#테스트하기어려운영역을구분하기

관측할 때마다 다른 값에 의존 (외부에서 데이터가 들어오는 경우)
	현재 날짜/시간
	랜덤 값
	전역변수 / 함수
	사용자 입력
외부 세계에 영향을 주는 코드 (외부로 데이터가 나가는 경우)
	표준 출력 (출력로그)
	메시지 발송 (입력)
	DB 기록 (파일기록도)
	
테스트하기 어려운 내용이 있으면 그 외부로 분리해야 한다.
그래야 테스트가 가능한 코드가 많아진다.
적당히 멈추는 선
**테스트가 어려워지는 영역을 구분해서 분리를 외부로 할수록 테스트는 다채로워진다.**

테스트하기 쉬운 코드는 pure function이라고 한다.

---

#키워드정리1

lombok 사용가이드
- Data, Setter, AllArgusConstructior 지양
- 양방향 연관관계(JPA)시 @ToString 순환참조 문제
- **DTO나 데이터전송객체에서만 사용한다.**

